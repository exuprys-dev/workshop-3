<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Diagramme de Classes – Nextmux Mini ERP</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;700;800&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #0d0d0d;
    color: #f0ede6;
    font-family: 'Syne', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 40px 20px;
  }

  h1 {
    font-size: 2rem;
    font-weight: 800;
    letter-spacing: -1px;
    margin-bottom: 6px;
    color: #f0ede6;
  }

  .subtitle {
    font-family: 'Space Mono', monospace;
    font-size: 0.75rem;
    color: #ff6b35;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 40px;
  }

  .diagram-container {
    width: 100%;
    max-width: 1200px;
    background: #141414;
    border: 1px solid #2a2a2a;
    border-radius: 4px;
    padding: 30px;
    overflow-x: auto;
  }

  svg {
    display: block;
    margin: 0 auto;
  }

  /* Class box */
  .class-box { fill: #1a1a1a; stroke-width: 1.5; rx: 4; }
  .class-header { fill: #222; stroke-width: 0; }
  .class-name { font-family: 'Syne', sans-serif; font-weight: 700; font-size: 13px; fill: #f0ede6; text-anchor: middle; dominant-baseline: middle; }
  .class-stereotype { font-family: 'Space Mono', monospace; font-size: 9px; fill: #888; text-anchor: middle; dominant-baseline: middle; }
  .attr { font-family: 'Space Mono', monospace; font-size: 10px; fill: #bbb; dominant-baseline: middle; }
  .attr-type { fill: #777; }
  .divider { stroke: #2a2a2a; stroke-width: 1; }
  .method { font-family: 'Space Mono', monospace; font-size: 10px; fill: #888; dominant-baseline: middle; font-style: italic; }

  /* Relation lines */
  .assoc { stroke: #555; stroke-width: 1.5; fill: none; }
  .compose { stroke: #ff6b35; stroke-width: 1.5; fill: none; }
  .agg { stroke: #f7c873; stroke-width: 1.5; fill: none; }
  .dep { stroke: #7eb8f7; stroke-width: 1; fill: none; stroke-dasharray: 5,3; }

  .rel-label { font-family: 'Space Mono', monospace; font-size: 9px; fill: #666; text-anchor: middle; }
  .card { font-family: 'Space Mono', monospace; font-size: 9px; fill: #888; text-anchor: middle; }

  .legend {
    display: flex;
    gap: 24px;
    margin-top: 24px;
    flex-wrap: wrap;
    justify-content: center;
  }
  .legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Space Mono', monospace;
    font-size: 10px;
    color: #666;
  }
</style>
</head>
<body>

<h1>Diagramme de Classes</h1>
<p class="subtitle">Nextmux · Mini ERP</p>

<div class="diagram-container">
<svg width="1140" height="900" xmlns="http://www.w3.org/2000/svg">
<defs>
  <marker id="arr" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
    <path d="M0,0 L0,6 L8,3 z" fill="#555"/>
  </marker>
  <marker id="arr-o" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
    <path d="M0,0 L0,6 L8,3 z" fill="#ff6b35"/>
  </marker>
  <marker id="arr-y" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
    <path d="M0,0 L0,6 L8,3 z" fill="#f7c873"/>
  </marker>
  <marker id="arr-b" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
    <path d="M0,0 L0,6 L8,3 z" fill="#7eb8f7"/>
  </marker>
  <!-- diamond compose -->
  <marker id="diamond-o" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
    <polygon points="5,0 10,5 5,10 0,5" fill="#ff6b35"/>
  </marker>
  <!-- diamond agg -->
  <marker id="diamond-y" markerWidth="10" markerHeight="10" refX="5" refY="5" orient="auto">
    <polygon points="5,0 10,5 5,10 0,5" fill="none" stroke="#f7c873" stroke-width="1.5"/>
  </marker>
  <!-- open arrow -->
  <marker id="open-arr" markerWidth="10" markerHeight="10" refX="8" refY="4" orient="auto">
    <path d="M0,0 L8,4 L0,8" fill="none" stroke="#555" stroke-width="1.5"/>
  </marker>
</defs>

<!-- ============================================================ -->
<!-- Helper: define class drawing as groups                       -->
<!-- ============================================================ -->

<!-- ===== CLIENT (top-left) ===== -->
<g transform="translate(30, 40)">
  <rect width="180" height="160" rx="4" class="class-box" stroke="#ff6b35"/>
  <rect width="180" height="36" rx="4" class="class-header" fill="#1e1218"/>
  <rect width="180" height="16" y="20" class="class-header" fill="#1e1218"/>
  <text x="90" y="14" class="class-name" fill="#ff6b35">Client</text>
  <line x1="0" y1="36" x2="180" y2="36" class="divider"/>
  <!-- attributes -->
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ nom : string</text>
  <text x="8" y="84" class="attr">+ email : string</text>
  <text x="8" y="100" class="attr">+ telephone : string</text>
  <text x="8" y="116" class="attr">+ adresse : string</text>
  <text x="8" y="132" class="attr">+ dateCreation : date</text>
  <line x1="0" y1="142" x2="180" y2="142" class="divider"/>
  <text x="8" y="155" class="method">+ getFactures()</text>
</g>

<!-- ===== PROJET (top-center) ===== -->
<g transform="translate(280, 40)">
  <rect width="190" height="175" rx="4" class="class-box" stroke="#f7c873"/>
  <rect width="190" height="36" rx="4" class="class-header" fill="#1e1c10"/>
  <rect width="190" height="16" y="20" class="class-header" fill="#1e1c10"/>
  <text x="95" y="14" class="class-name" fill="#f7c873">Projet</text>
  <line x1="0" y1="36" x2="190" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ nom : string</text>
  <text x="8" y="84" class="attr">+ description : text</text>
  <text x="8" y="100" class="attr">+ dateDebut : date</text>
  <text x="8" y="116" class="attr">+ dateFin : date</text>
  <text x="8" y="132" class="attr">+ statut : enum</text>
  <text x="8" y="148" class="attr">+ budget : decimal</text>
  <line x1="0" y1="158" x2="190" y2="158" class="divider"/>
  <text x="8" y="170" class="method">+ getTaches()</text>
</g>

<!-- ===== TACHE (top-right) ===== -->
<g transform="translate(545, 40)">
  <rect width="190" height="175" rx="4" class="class-box" stroke="#a8e6cf"/>
  <rect width="190" height="36" rx="4" class="class-header" fill="#101e18"/>
  <rect width="190" height="16" y="20" class="class-header" fill="#101e18"/>
  <text x="95" y="14" class="class-name" fill="#a8e6cf">Tâche</text>
  <line x1="0" y1="36" x2="190" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ titre : string</text>
  <text x="8" y="84" class="attr">+ description : text</text>
  <text x="8" y="100" class="attr">+ dateEcheance : date</text>
  <text x="8" y="116" class="attr">+ priorite : enum</text>
  <text x="8" y="132" class="attr">+ statut : enum</text>
  <text x="8" y="148" class="attr">+ idProjet : int</text>
  <line x1="0" y1="158" x2="190" y2="158" class="divider"/>
  <text x="8" y="170" class="method">+ marquerTerminee()</text>
</g>

<!-- ===== UTILISATEUR (far right) ===== -->
<g transform="translate(810, 40)">
  <rect width="180" height="160" rx="4" class="class-box" stroke="#888"/>
  <rect width="180" height="36" rx="4" class="class-header" fill="#181818"/>
  <rect width="180" height="16" y="20" class="class-header" fill="#181818"/>
  <text x="90" y="14" class="class-name" fill="#aaa">Utilisateur</text>
  <line x1="0" y1="36" x2="180" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ nom : string</text>
  <text x="8" y="84" class="attr">+ email : string</text>
  <text x="8" y="100" class="attr">+ motDePasse : string</text>
  <text x="8" y="116" class="attr">+ role : enum</text>
  <text x="8" y="132" class="attr">+ dateCreation : date</text>
  <line x1="0" y1="142" x2="180" y2="142" class="divider"/>
  <text x="8" y="155" class="method">+ seConnecter()</text>
</g>

<!-- ===== FACTURE (middle-left) ===== -->
<g transform="translate(30, 360)">
  <rect width="190" height="190" rx="4" class="class-box" stroke="#c9a8f7"/>
  <rect width="190" height="36" rx="4" class="class-header" fill="#16101e"/>
  <rect width="190" height="16" y="20" class="class-header" fill="#16101e"/>
  <text x="95" y="14" class="class-name" fill="#c9a8f7">Facture</text>
  <line x1="0" y1="36" x2="190" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ numero : string</text>
  <text x="8" y="84" class="attr">+ dateEmission : date</text>
  <text x="8" y="100" class="attr">+ dateEcheance : date</text>
  <text x="8" y="116" class="attr">+ montantHT : decimal</text>
  <text x="8" y="132" class="attr">+ tva : decimal</text>
  <text x="8" y="148" class="attr">+ statut : enum</text>
  <text x="8" y="164" class="attr">+ idClient : int</text>
  <line x1="0" y1="174" x2="190" y2="174" class="divider"/>
  <text x="8" y="185" class="method">+ calculerTotal()</text>
</g>

<!-- ===== LIGNE_FACTURE (middle-center-left) ===== -->
<g transform="translate(290, 360)">
  <rect width="180" height="145" rx="4" class="class-box" stroke="#c9a8f7"/>
  <rect width="180" height="36" rx="4" class="class-header" fill="#16101e"/>
  <rect width="180" height="16" y="20" class="class-header" fill="#16101e"/>
  <text x="90" y="10" class="class-stereotype">«entity»</text>
  <text x="90" y="24" class="class-name" fill="#c9a8f7">LigneFacture</text>
  <line x1="0" y1="36" x2="180" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ description : string</text>
  <text x="8" y="84" class="attr">+ quantite : int</text>
  <text x="8" y="100" class="attr">+ prixUnitaire : decimal</text>
  <text x="8" y="116" class="attr">+ idFacture : int</text>
  <line x1="0" y1="126" x2="180" y2="126" class="divider"/>
  <text x="8" y="138" class="method">+ sousTotal()</text>
</g>

<!-- ===== PAIEMENT (middle-center-right) ===== -->
<g transform="translate(545, 360)">
  <rect width="185" height="160" rx="4" class="class-box" stroke="#c9a8f7"/>
  <rect width="185" height="36" rx="4" class="class-header" fill="#16101e"/>
  <rect width="185" height="16" y="20" class="class-header" fill="#16101e"/>
  <text x="92" y="14" class="class-name" fill="#c9a8f7">Paiement</text>
  <line x1="0" y1="36" x2="185" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ montant : decimal</text>
  <text x="8" y="84" class="attr">+ datePaiement : date</text>
  <text x="8" y="100" class="attr">+ modePaiement : enum</text>
  <text x="8" y="116" class="attr">+ reference : string</text>
  <text x="8" y="132" class="attr">+ idFacture : int</text>
  <line x1="0" y1="142" x2="185" y2="142" class="divider"/>
  <text x="8" y="154" class="method">+ valider()</text>
</g>

<!-- ===== DEPENSE (bottom-right) ===== -->
<g transform="translate(810, 360)">
  <rect width="185" height="175" rx="4" class="class-box" stroke="#c9a8f7"/>
  <rect width="185" height="36" rx="4" class="class-header" fill="#16101e"/>
  <rect width="185" height="16" y="20" class="class-header" fill="#16101e"/>
  <text x="92" y="14" class="class-name" fill="#c9a8f7">Dépense</text>
  <line x1="0" y1="36" x2="185" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ libelle : string</text>
  <text x="8" y="84" class="attr">+ montant : decimal</text>
  <text x="8" y="100" class="attr">+ date : date</text>
  <text x="8" y="116" class="attr">+ categorie : enum</text>
  <text x="8" y="132" class="attr">+ idProjet : int</text>
  <text x="8" y="148" class="attr">+ justificatif : string</text>
  <line x1="0" y1="158" x2="185" y2="158" class="divider"/>
  <text x="8" y="170" class="method">+ valider()</text>
</g>

<!-- ===== CATEGORIE_DEPENSE (bottom-center) ===== -->
<g transform="translate(545, 620)">
  <rect width="185" height="120" rx="4" class="class-box" stroke="#888"/>
  <rect width="185" height="36" rx="4" class="class-header" fill="#181818"/>
  <rect width="185" height="16" y="20" class="class-header" fill="#181818"/>
  <text x="92" y="14" class="class-name" fill="#aaa">CatégorieDepense</text>
  <line x1="0" y1="36" x2="185" y2="36" class="divider"/>
  <text x="8" y="52" class="attr">+ id : int</text>
  <text x="8" y="68" class="attr">+ libelle : string</text>
  <text x="8" y="84" class="attr">+ couleur : string</text>
  <line x1="0" y1="94" x2="185" y2="94" class="divider"/>
  <text x="8" y="108" class="method">+ lister()</text>
</g>

<!-- ============================================================ -->
<!-- RELATIONS                                                     -->
<!-- ============================================================ -->

<!-- Client 1 --> Projet N (association) -->
<!-- Client right edge (210) -> Projet left edge (280) -->
<line x1="210" y1="110" x2="280" y2="110" class="assoc" marker-end="url(#open-arr)"/>
<text x="245" y="105" class="card">1</text>
<text x="245" y="125" class="rel-label">commande</text>
<text x="262" y="130" class="card">0..*</text>

<!-- Projet 1 --> Tache N (composition) -->
<line x1="470" y1="110" x2="545" y2="110" class="compose" marker-start="url(#diamond-o)" marker-end="url(#arr-o)"/>
<text x="500" y="105" class="card">1</text>
<text x="520" y="105" class="card">0..*</text>
<text x="500" y="122" class="rel-label">contient</text>

<!-- Tache --> Utilisateur (assignment) -->
<line x1="735" y1="80" x2="810" y2="80" class="dep" marker-end="url(#arr-b)"/>
<text x="770" y="72" class="rel-label">assignée à</text>

<!-- Client --> Facture (composition) -->
<line x1="120" y1="200" x2="120" y2="360" class="compose" marker-start="url(#diamond-o)" marker-end="url(#arr-o)"/>
<text x="130" y="285" class="card">1</text>
<text x="130" y="345" class="card">0..*</text>

<!-- Projet --> Depense (agg) -->
<line x1="900" y1="215" x2="900" y2="360" class="agg" marker-start="url(#diamond-y)" marker-end="url(#arr-y)"/>
<text x="912" y="293" class="card">1</text>
<text x="912" y="345" class="card">0..*</text>

<!-- Facture --> LigneFacture (composition) -->
<line x1="220" y1="455" x2="290" y2="455" class="compose" marker-start="url(#diamond-o)" marker-end="url(#arr-o)"/>
<text x="250" y="448" class="card">1</text>
<text x="255" y="465" class="card">1..*</text>

<!-- Facture --> Paiement (association) -->
<!-- Facture bottom -> Paiement left via path -->
<path d="M 125 550 L 125 580 L 545 580 L 545 440" class="assoc" fill="none" marker-end="url(#open-arr)"/>
<text x="320" y="595" class="rel-label">règle</text>
<text x="140" y="572" class="card">1</text>
<text x="530" y="432" class="card">0..*</text>

<!-- Depense --> CatégorieDepense (association) -->
<line x1="900" y1="535" x2="730" y2="660" class="assoc" marker-end="url(#open-arr)"/>
<text x="830" y="620" class="rel-label">appartient à</text>

<!-- Projet (right) --> Depense via top link -->
<!-- already done above -->

<!-- LigneFacture --> Projet (dependency for billing context) -->
<path d="M 380 360 L 380 215 L 375 215" class="dep" fill="none" marker-end="url(#arr-b)"/>

</svg>
</div>

<div class="legend">
  <div class="legend-item">
    <svg width="36" height="12"><line x1="0" y1="6" x2="36" y2="6" stroke="#ff6b35" stroke-width="1.5"/><polygon points="0,3 0,9 8,6" fill="#ff6b35" transform="translate(0,0)"/></svg>
    Composition
  </div>
  <div class="legend-item">
    <svg width="36" height="12"><line x1="0" y1="6" x2="36" y2="6" stroke="#f7c873" stroke-width="1.5"/><polygon points="0,3 0,9 8,6" fill="none" stroke="#f7c873" stroke-width="1.5" transform="translate(0,0)"/></svg>
    Agrégation
  </div>
  <div class="legend-item">
    <svg width="36" height="12"><line x1="0" y1="6" x2="36" y2="6" stroke="#555" stroke-width="1.5"/><path d="M28,2 L36,6 L28,10" fill="none" stroke="#555" stroke-width="1.5"/></svg>
    Association
  </div>
  <div class="legend-item">
    <svg width="36" height="12"><line x1="0" y1="6" x2="36" y2="6" stroke="#7eb8f7" stroke-width="1" stroke-dasharray="4,2"/><polygon points="28,3 28,9 36,6" fill="#7eb8f7"/></svg>
    Dépendance
  </div>
</div>

</body>
</html>
